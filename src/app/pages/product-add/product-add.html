<!-- src/app/pages/product-add/product-add.component.html -->
<div class="section">
  <div class="container">
    <!-- Form Header -->
    <div class="form-header">
      <a routerLink="/products" class="back-link">
        â† ÃœrÃ¼nlere Geri DÃ¶n
      </a>
      <h1>ÃœrÃ¼n BaÄŸÄ±ÅŸ Formu</h1>
      <p class="subtitle">KullanmadÄ±ÄŸÄ±nÄ±z Ã§ocuk Ã¼rÃ¼nlerini baÄŸÄ±ÅŸlayÄ±n, ihtiyaÃ§ sahiplerine ulaÅŸtÄ±ralÄ±m</p>
    </div>

    <!-- Progress Steps -->
    <div class="progress-steps">
      <div class="step active">
        <div class="step-number">1</div>
        <div class="step-label">ÃœrÃ¼n Bilgileri</div>
      </div>
      <div class="step">
        <div class="step-number">2</div>
        <div class="step-label">FotoÄŸraflar</div>
      </div>
      <div class="step">
        <div class="step-number">3</div>
        <div class="step-label">Ã–nizleme</div>
      </div>
    </div>

    <!-- Main Form -->
    <div class="form-container">
      <form (ngSubmit)="onSubmit()" #productForm="ngForm">
        
        <!-- Product Name -->
        <div class="form-group">
          <label for="productName" class="form-label">
            ÃœrÃ¼n AdÄ± *
            <span class="label-hint">Ne baÄŸÄ±ÅŸlÄ±yorsunuz?</span>
          </label>
          <input
            type="text"
            id="productName"
            class="form-control"
            placeholder="Ã–rn: LEGO seti, bisiklet, kitap seti"
            [(ngModel)]="productData.name"
            name="name"
            required
            minlength="3"
            maxlength="100">
          <div class="form-hint">ÃœrÃ¼nÃ¼nÃ¼zÃ¼ net bir ÅŸekilde tanÄ±mlayÄ±n</div>
        </div>

        <!-- Category & Condition -->
        <div class="row">
          <div class="col-12 md:col-6">
            <div class="form-group">
              <label for="category" class="form-label">Kategori *</label>
              <select
                id="category"
                class="form-control"
                [(ngModel)]="productData.category"
                name="category"
                required>
                <option value="" disabled selected>Kategori seÃ§in</option>
                <option *ngFor="let category of categories" [value]="category.value">
                  {{category.icon}} {{category.label}}
                </option>
              </select>
            </div>
          </div>
          
          <div class="col-12 md:col-6">
            <div class="form-group">
              <label for="condition" class="form-label">ÃœrÃ¼n Durumu *</label>
              <select
                id="condition"
                class="form-control"
                [(ngModel)]="productData.condition"
                name="condition"
                required>
                <option value="" disabled selected>Durum seÃ§in</option>
                <option *ngFor="let condition of conditions" [value]="condition.value">
                  {{condition.label}}
                </option>
              </select>
            </div>
          </div>
        </div>

        <!-- Age Group & Urgent -->
        <div class="row">
          <div class="col-12 md:col-6">
            <div class="form-group">
              <label for="ageGroup" class="form-label">YaÅŸ Grubu *</label>
              <select
                id="ageGroup"
                class="form-control"
                [(ngModel)]="productData.ageGroup"
                name="ageGroup"
                required>
                <option value="" disabled selected>YaÅŸ grubu seÃ§in</option>
                <option *ngFor="let age of ageGroups" [value]="age.value">
                  {{age.label}}
                </option>
              </select>
            </div>
          </div>
          
          <div class="col-12 md:col-6">
            <div class="form-group">
              <label class="form-label">Acil Ä°htiyaÃ§</label>
              <div class="urgent-toggle">
                <label class="toggle-switch">
                  <input
                    type="checkbox"
                    [(ngModel)]="productData.isUrgent"
                    name="isUrgent">
                  <span class="toggle-slider"></span>
                </label>
                <div class="toggle-label">
                  <strong>Bu Ã¼rÃ¼n acil ihtiyaÃ§tÄ±r</strong>
                  <span class="toggle-hint">Acil ihtiyaÃ§ Ã¼rÃ¼nleri Ã¶nceliklidir</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Description -->
        <div class="form-group">
          <label for="description" class="form-label">
            AÃ§Ä±klama *
            <span class="label-hint">ÃœrÃ¼nÃ¼nÃ¼zÃ¼ detaylÄ±ca anlatÄ±n</span>
          </label>
          <textarea
            id="description"
            class="form-control"
            rows="5"
            placeholder="ÃœrÃ¼nÃ¼n markasÄ±, modeli, rengi, boyutu, varsa kusurlarÄ±, kaÃ§ yÄ±llÄ±k olduÄŸu gibi detaylarÄ± yazÄ±n..."
            [(ngModel)]="productData.description"
            name="description"
            required
            minlength="20"
            maxlength="1000"></textarea>
          <div class="form-hint">En az 20 karakter. DetaylÄ± aÃ§Ä±klama Ã¼rÃ¼nÃ¼nÃ¼zÃ¼n daha hÄ±zlÄ± onaylanmasÄ±nÄ± saÄŸlar</div>
          <div class="char-count">{{productData.description?.length || 0}} / 1000</div>
        </div>

        <!-- Image Upload -->
        <div class="form-group">
          <label class="form-label">
            ÃœrÃ¼n FotoÄŸraflarÄ±
            <span class="label-hint">En iyi gÃ¶rÃ¼ntÃ¼ iÃ§in iyi aydÄ±nlatÄ±lmÄ±ÅŸ fotoÄŸraflar yÃ¼kleyin</span>
          </label>
          
          <div class="image-upload-area" (click)="triggerFileInput()">
            <div class="upload-icon">ğŸ“·</div>
            <h3>FotoÄŸraflarÄ± YÃ¼kle</h3>
            <p>En fazla 5 fotoÄŸraf yÃ¼kleyebilirsiniz</p>
            <input
              type="file"
              #fileInput
              (change)="onFileSelected($event)"
              multiple
              accept="image/*"
              class="file-input"
              hidden>
          </div>
          
          <!-- Selected Images Preview -->
          <div *ngIf="selectedImages.length > 0" class="image-preview-grid">
            <div *ngFor="let image of selectedImages; let i = index" class="image-preview">
              <img [src]="image.preview" [alt]="'ÃœrÃ¼n fotoÄŸrafÄ± ' + (i + 1)">
              <button type="button" class="remove-image" (click)="removeImage(i)">
                Ã—
              </button>
            </div>
          </div>
          
          <div class="form-hint">Ã–nerilen: ÃœrÃ¼nÃ¼n farklÄ± aÃ§Ä±lardan, iyi aydÄ±nlatÄ±lmÄ±ÅŸ 3-5 fotoÄŸrafÄ±</div>
        </div>

        <!-- Additional Notes -->
        <div class="form-group">
          <label for="notes" class="form-label">Ek Notlar (Opsiyonel)</label>
          <textarea
            id="notes"
            class="form-control"
            rows="3"
            placeholder="Varsa eklemek istedikleriniz: Kargo Ã¶lÃ§Ã¼leri, Ã¶zel paketleme gereksinimi, teslimat iÃ§in Ã¶zel gÃ¼nler..."
            [(ngModel)]="productData.notes"
            name="notes"
            maxlength="500"></textarea>
          <div class="char-count">{{productData.notes?.length || 0}} / 500</div>
        </div>

        <!-- Terms -->
        <div class="form-group terms-group">
          <label class="checkbox">
            <input
              type="checkbox"
              [(ngModel)]="acceptTerms"
              name="acceptTerms"
              required>
            <span>
              <strong>BaÄŸÄ±ÅŸ KoÅŸullarÄ±nÄ± kabul ediyorum:</strong>
              ÃœrÃ¼nÃ¼mÃ¼n gerÃ§ek durumunu doÄŸru ÅŸekilde belirttim. ÃœrÃ¼nÃ¼m onaylandÄ±ktan sonra, 
              ihtiyaÃ§ sahibine Ã¼cretsiz olarak kargolayacaÄŸÄ±mÄ± veya platformun kargo anlaÅŸmasÄ±na uyacaÄŸÄ±mÄ± kabul ediyorum. 
              YanÄ±ltÄ±cÄ± bilgi verdiÄŸim tespit edilirse hesabÄ±mÄ±n askÄ±ya alÄ±nabileceÄŸini biliyorum.
            </span>
          </label>
          <div *ngIf="productForm.submitted && !acceptTerms" class="error-text">
            BaÄŸÄ±ÅŸ koÅŸullarÄ±nÄ± kabul etmelisiniz
          </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button
            type="button"
            class="btn btn-outline"
            routerLink="/products">
            Ä°ptal
          </button>
          <button
            type="submit"
            class="btn btn-primary btn-lg"
            [disabled]="isSubmitting || !acceptTerms">
            <span *ngIf="!isSubmitting">ÃœrÃ¼nÃ¼ BaÄŸÄ±ÅŸla</span>
            <span *ngIf="isSubmitting">GÃ¶nderiliyor...</span>
          </button>
        </div>

        <!-- Info Box -->
        <div class="info-box">
          <h4>ğŸ“¦ BaÄŸÄ±ÅŸ SÃ¼reci</h4>
          <ul>
            <li>ÃœrÃ¼nÃ¼nÃ¼z ekibimiz tarafÄ±ndan incelenecek ve onaylanacak</li>
            <li>Onay sÃ¼resi 1-3 iÅŸ gÃ¼nÃ¼ sÃ¼rebilir</li>
            <li>OnaylandÄ±ktan sonra Ã¼rÃ¼nÃ¼nÃ¼z "Mevcut ÃœrÃ¼nler" listesinde gÃ¶rÃ¼necek</li>
            <li>Talep eden kiÅŸi bulunduÄŸunda sizinle iletiÅŸime geÃ§ilecek</li>
            <li>Kargo Ã¼creti platform tarafÄ±ndan karÅŸÄ±lanacaktÄ±r</li>
          </ul>
        </div>
      </form>
    </div>
  </div>
</div>